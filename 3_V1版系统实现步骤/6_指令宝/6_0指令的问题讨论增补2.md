使用指令的场景
    单独指令 or 父指令
        做期货交易：**期货交易指令**
            支持保值方案类型：整体/单单
            是否可以含子指令：否
            指令步骤：发起指令-等待期货交易完成-期货交易完成并完成指令
            需发起者提供信息量：
        合同创建：**合同创建指令**
            支持保值方案类型：整体/单单
            是否可以含子指令：否
            指令步骤：发起指令-合同创建完成并完成指令
            需发起者提供信息量：
        做期货交易，然后将期货交易作为合同创建的信息量：**一口价创建套保指令**
            支持保值方案类型：整体/单单
            是否可以含子指令：否
            指令步骤：发起指令-等待期货交易完成-期货交易完成并完成指令-等待合同创建-合同创建完成
            需发起者提供信息量：
        为保值方案做期货移仓换月：**保值方案移仓换月指令**
            支持保值方案类型：整体/单单
            是否可以含子指令：否
            指令步骤：发起指令-等待期货交易完成-期货交易完成并完成指令
            需发起者提供信息量：
        为保值方案提供套保：**保值方案净值套保指令**
            支持保值方案类型：整体
            是否可以含子指令：是
            指令步骤：发起指令-等待期货交易完成-等待补充子指令（按需）-等待子指令期货交易完成（按需）-期货交易完成并完成指令
            需发起者提供信息量：
        为保值方案提供均价套保：**保值方案均价净值套保指令**
            支持保值方案类型：整体
            是否可以含子指令：是
            指令步骤：发起指令-等待期货交易完成-等待补充子指令（按需）-等待子指令期货交易完成（按需）-期货交易完成并完成指令
            需发起者提供信息量：   
        为合同提供套保：**非均价合同套保指令**
            支持保值方案类型：单单
            是否可以含子指令：否
            指令步骤：发起指令-等待期货交易完成-期货交易完成并完成指令
            需发起者提供信息量： 
        为合同提供均价套保：**均价合同套保指令**
            支持保值方案类型：单单
            是否可以含子指令：是
            指令步骤：发起指令-等待期货交易完成-等待补充子指令（按需）-等待子指令期货交易完成（按需）-期货交易完成并完成指令
            需发起者提供信息量： 
        为合同提供点价：**点价指令**
            支持保值方案类型：单单
            是否可以含子指令：否
            指令步骤：发起指令-等待期货交易完成-期货交易完成并完成指令
            需发起者提供信息量：
        自定义指令：**XX指令**
            支持保值方案类型：单单
            是否可以含子指令：否
            指令步骤：发起指令-等待期货交易完成-期货交易完成并完成指令
            需发起者提供信息量：完全自定义字段的指令内容
    单独指令 or 子指令
        非均价合同变更：**非均价合同变更指令**
            父指令：保值方案净值套保指令
        均价合同变更：**均价合同变更指令**
            父指令：保值方案均价净值套保指令、均价合同套保指令

讨论增补
    是否考虑整体和单单在一个保值方案中混用
        不考虑，目前没遇到

    是否考虑整体和单单在不同保值方案中应用
        考虑，虽然目前也没碰到，但是不会造成系统复杂度陡峭上升
        嘉德瑞的均价也是单单
        瑞格是单单
        山金是整体

    在一个保值方案中，是否支持均价和非均价混用
        支持，山金需要这样看敞口

    在整体和单单模式下，为交易员提供哪些界面信息
        无论哪种都应该提供保值方案
        指令类型
        导致期货交易的合同基础信息列表，以及子指令更新记录（均价当日创建、均价变更、指令撤销申请）
        如果是变更类型的指令，需要告知变更前现货敞口（整体 or 单单）、变更前期货数量（整体 or 单单）、变更后需要的期货数量
        交易员可以对子指令进行交易完成，且所有子指令完成后才能对父指令完成

    指令的状态更新和信息反馈
        指令中每配一笔期货都应该即时反馈信息
        需要特殊处理业务经理，如果指令与合同相关，指令发起时需勾选是否同步给业务经理

    指令的信息备注
        指令发起人、期货交易员、指令合并人，都可以对父子指令撰写备注，链路上的人也都应该能看到备注

    多个指令的净值结果合并核算
        暂时不支持多指令合并核算，下述的涉及到合并指令都只是场景罗列。

    为什么有父子指令的概念
        每天整体匹配的均价合同指令自动发出后，指令中已按照均价日历并按净值核算了需交易量。日内有人对其中一个合同发布了变更，指令发布人需要知道我的这个变更完成了没，此时如果没有子指令的概念无法传递信息
        如果对多个指令进行了指令合并净值，如果没有父指令就没有容器，让多个交易员共同执行

    怎么保证指令间的父子关系
        合并指令形成的父指令，是确定的指定管理。暂时不支持打散重新合并
        均价指令自动发出时会指定交易日，所有子指令发生时也会判断交易日，如果交易日一致、合同一致或保值方案一致则判断为父子关系
        交易日变更临时定位15：00的服务器网络同步时间

    对含子指令的父指令应该什么时候完成
        父指令应该在15点之后点完成
        子指令随时完成

    指令的执行人，也就是交易员，是否有可能是多人
        先不考虑指令拆分多人

    交易员会不会严格按照指令要求数量完成
        首先这个要求不合理，尤其在吨数和手数换算时无法完全一致
        其次交易员主观对行情的判断，有可能故意留敞口

    是否支持虚拟期货
        如果交易员得到两个方向相反的指令，主观判断不用做交易。两个指令独立来看都是敞口没封闭，但是按交易员绩效不能是没绩效。此时应该合并两个指令后，点交易完成时分别虚拟期货成交。这种只会出现在跨保值方案、同保值方案的两个单单指令，其他的都应该被一个保值方案的净值直接处理。
        一般只会发生在采销分别执行期货交易的业务模型中，采销关联的业务模型中是线性对冲的，一般不应该采用虚拟期货成交，特例会出现在换货时，隐性的使用虚拟成交机制完成换货
        整体匹配的均价净值，无需虚拟期货
        整体匹配的非均价净值，无需虚拟期货

        虚拟期货有什么后遗症吗？
            如果业务模型中，在非移仓状态下没有开平的说法，没有后遗症

        在哪里虚拟期货
            目前能想到的，无论是合并指令还是换货，只需要指定期货合约、价格、无需指定方向和数量？，在完成交易时让交易员填写即可

    移仓换月指令具有特殊性
        期货账户的真实移仓换月与保值方案中的持仓（委托买卖的合并结果）没有一致性，所以移仓换月并不是对期现关系中的期货部分移仓，就算是单单模式，也不会对移仓换月结果进行单单匹配
        移仓换月的操作是在保值方案（子账户）层面执行的，本身就与保值方案相关，这样就可以了，后续作为统计维度供报表生成使用

    虚拟期货成交时的规则
        合约相同、方向相反、价格一致、数量一致

    一个指令的延续变更所需的期货今天没做完会怎样
        如果不是均价合同指令
            交易员不应该完成交易，等明天开盘补交易后配入
            交易员错点了完成，应该对保值方案进行期货交易后，修改期货发生日，建立期现关系或点价
        如果是均价指令
            每个指令都有创建交易日概念
            每天到15点，强行切换交易日概念
            新来的均价合同和变更，不会被塞到前一个交易日的指令中，而是在下一个交易日
            上一个交易日未完成期货交易，交易员不应该完成，等明天开盘不交易后配入
                交易员错点了完成，应该对保值方案进行期货交易后，修改期货发生日，如果是单单的均价需要建立期现关系